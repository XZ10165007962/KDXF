# 解决方案
## 线性回归
### 建模思路
+ 画图观察温度趋势，可以发现温度呈现分段函数的形式（在某段时间内呈现线性规律），当前时刻的温度与上一时刻的温度强相关，因此分组构建线性回归模型
+ 通过不同的滞后构建不同的线性回归，最后将结果整合
### 后期优化方向
+ 寻找变点。由于温度呈现分段函数形式，只需要使用最近时刻的温度数据进行建模即可，难点在于如何合理的寻找温度变点

## lgb
### 建模思路
+ EDA的过程可得知当前温度与最近温度呈现强相关性，但是整体数据又不是稳定数据，因此并不适合传统的时序预测。考虑到树模型没有外推能力，但是该数据又能呈现整体上升或者下降的趋势，如果要使用树模型数据处理方式比较重要。
+ 将温度做diff，获得当前温度与上一时刻温度的差值，画图发现差值数据在某一数据范围内抖动，因此使用滚动预测的方式直接预测温度差值，最后将数据还原
+ 由于在测试数据中没有提供任何信息，因此只使用温度数据进行建模
+ 特征使用了传统序列预测中使用的滞后特征、以及统计特征
### 后期优化方向
+ 使用更加复杂的模型
+ 总结其他特征
+ 将其他数据作为特征引入

## 模型融合
+ 比赛中尝试了移动平均、线性回归、armia、hotwinter、lgb、catboost、随机森林、指数平滑、动量分解等方法，其中lgb表现最好、catboost次之
+ 仅使用linear以及holt的模型融合能达到0.24左右的成绩
+ lgb单模能够达到0.208左右的成绩
+ 虽然lgb模型的预测比较大胆，但是linear模型能够尽量的保持模型数据的变换趋势，尤其是对原始不稳定数据的预测比较稳定，因此考虑原始数据的不稳定性以及lgb预测结果与linear预测结果之间的方差，手动挑选部分数据使用linear的预测结果代替lgb的预测结果

# 系统依赖
+ win11
+ python 3.8.8

# 运行方式
+ 首先运行linear_test.py生成文件linear.csv，再运行lgb_test.py生成文件lgb_mae_seed2022.csv,最后运行sub_data.py生成提交文件sub.csv
+ 也可以直接运行main.sh